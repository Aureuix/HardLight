# base
- type: entity
  parent: ClothingOuterBaseMedium
  id: RMCBaseArmor
  abstract: true
  components:
  - type: Sprite
    state: icon # default state used by most inheritors
  - type: Item
    size: Huge
  - type: Clothing

- type: entity
  parent: RMCBaseArmor
  id: RMCBaseArmorNoAccessory
  abstract: true

- type: entity
  abstract: true
  id: RMCAllowSuitStorageClothingArmor
  components:
  - type: AllowSuitStorage
    whitelist:
      components:
      - Lighter
      - Bible
      - Gun
      tags:
      - Flashlight
      - HealthAnalyzer
      - CigPack
      - Knife

- type: entity
  abstract: true
  id: RMCAllowSuitStorageClothingArmorVest
  components:
  - type: AllowSuitStorage
    whitelist:
      components:
      - Gun
      - Stunbaton
      - BallisticAmmoProvider #Note should get all maganizes
      tags:
      - Handcuffs
      - Flashlight

- type: entity
  parent: RMCBaseArmorNoAccessory
  id: RMCBaseMarineArmorNoAccessory
  abstract: true
  components:
  - type: Clothing
    equipDelay: 2
    unequipDelay: 2
  - type: Storage
    grid:
    - 0,0,2,1
  - type: ContainerContainer
    containers:
      storagebase: !type:Container
        ents: []
  - type: UserInterface
    interfaces:
      enum.StorageUiKey.Key:
        type: StorageBoundUserInterface
  - type: ClothingSpeedModifier
    walkModifier: 0.90
    sprintModifier: 0.90


- type: entity
  parent: RMCBaseMarineArmorNoAccessory
  id: RMCBaseMarineArmor
  abstract: true

- type: entity
  parent: RMCBaseMarineArmorNoAccessory
  id: RMCBaseMarineArmorLightNoAccessory
  abstract: true
  components:
  - type: Item
    heldPrefix: off
  - type: Sprite
    layers:
    - state: icon
    - sprite: _RMC14/Objects/Clothing/OuterClothing/Armor/armor_overlays.rsi
      state: lamp-off
    - sprite: _RMC14/Objects/Clothing/OuterClothing/Armor/armor_overlays.rsi
      state: lamp-on
      visible: false
      map: [ "light" ]
  - type: Clothing
    equippedPrefix: off
    clothingVisuals:
      outerClothing:
      - state: equipped-OUTERCLOTHING
      - sprite: _RMC14/Objects/Clothing/OuterClothing/Armor/armor_overlays.rsi
        state: lamp-off
  - type: Appearance
  - type: HandheldLight
    addPrefix: false
  - type: ItemTogglePointLight
  - type: ToggleableLightVisuals
    spriteLayer: light
    clothingVisuals:
      outerClothing:
      - sprite: _RMC14/Objects/Clothing/OuterClothing/Armor/armor_overlays.rsi
        state: lamp-on
  - type: PointLight
    enabled: false
    radius: 5
    offset: 0,-0.85
    rotation: 90
    softness: 5
    autoRot: true
    netsync: false
    color: "#FFFFFF"
    mask: /Textures/_RMC14/Effects/LightMasks/wide_ellipsis.png
  - type: LightBehaviour
    behaviours:
    - !type:FadeBehaviour
      id: radiating
      interpolate: Linear
      maxDuration: 2.0
      startValue: 3.0
      endValue: 2.0
      isLooped: true
      property: Radius
      enabled: false
      reverseWhenFinished: true
    - !type:PulseBehaviour
      id: blinking
      interpolate: Nearest
      maxDuration: 1.0
      minValue: 0.1
      maxValue: 2.0
      isLooped: true
      property: Radius
      enabled: false
  - type: Battery
    maxCharge: 600 #lights drain 3/s but recharge of 2 makes this 1/s. Therefore 600 is 10 minutes of light.
    startingCharge: 600
  - type: BatterySelfRecharger
    autoRecharge: true
    autoRechargeRate: 2 #recharge of 2 makes total drain 1w / s so max charge is 1:1 with time. Time to fully charge should be 5 minutes. Having recharge gives light an extended flicker period which gives you some warning to return to light area.

- type: entity
  parent: RMCBaseMarineArmorLightNoAccessory
  id: RMCBaseMarineArmorLight
  abstract: true