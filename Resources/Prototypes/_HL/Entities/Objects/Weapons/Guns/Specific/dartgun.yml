- type: entity
  name: dart gun
  parent: [BaseGunWieldable, BaseStorageItem]
  id: DartGun
  description: Load full of poisoned darts for optimal fun.
  components:
  - type: Sprite
    sprite: _HL/Objects/Weapons/Guns/Rifles/pelletgun.rsi
    layers:
    - state: base
  - type: Storage
    maxItemSize: Normal
    grid:
    - 0,0,2,0
    whitelist:
      tags:
      - DartGunAmmo
  - type: Gun
    fireRate: 1
    selectedMode: SemiAuto
    availableModes:
    - SemiAuto
    - FullAuto
    soundGunshot:
      path: /Audio/Weapons/Guns/Gunshots/syringe_gun.ogg
    soundEmpty:
      path: /Audio/Weapons/Guns/Empty/empty.ogg
    clumsyProof: true
  - type: ContainerAmmoProvider
    container: storagebase
  - type: Item
    size: Normal
  - type: ContainerContainer
    containers:
      storagebase: !type:Container
        ents: []

- type: entity
  name: syringe dart
  id: SyringeDart
  parent: Dart
  description: Use this to act like a safari hunter and shoot animals with tranquilizer darts. Or just shoot your friends for fun, whatever floats your boat.
  components:
  - type: ThrowingAngle
    angle: 0
  - type: EmbeddableProjectile
    embedOnThrow: false
    sound: /Audio/Weapons/star_hit.ogg
    removalTime: 5
  - type: Projectile
    deleteOnCollide: false
    onlyCollideWhenShot: true
    damage:
      types:
        Piercing: 4
  - type: Tag
    tags:
    - DartGunAmmo
  - type: Ammo
    muzzleFlash: null
  - type: Sprite
    sprite: _HL/Objects/Weapons/Guns/Ammunition/Projectiles/syringe_dart.rsi
    rotation: -45
    layers:
    - state: icon
      map: [ base ]
  - type: Fixtures
    fixtures:
      fix1:
        shape: !type:PhysShapeCircle
          radius: 0.2
        density: 5
        mask:
        - ItemMask
        restitution: 0.3
        friction: 0.2
      projectile:
        shape:
          !type:PhysShapeAabb
          bounds: "-0.2,-0.2,0.2,0.2"
        hard: false
        mask:
        - Impassable
        - BulletImpassable
  - type: SolutionInjectOnEmbed
    transferAmount: 10
    solution: melee
    blockSlots: PREVENTEQUIP
  - type: SolutionContainerManager
    solutions:
      melee:
        maxVol: 10

- type: entity
  parent: SyringeDart
  id: CryoDart
  name: Cryostasis Dart
  description: A syringe dart modified to prevent reactions between chemicals inside. ClF3 not included!
  components:
  - type: Sprite
    sprite: _HL/Objects/Weapons/Guns/Ammunition/Projectiles/syringe_dart.rsi
    rotation: -45
    layers:
    - state: cryo
      map: [ base ]
  - type: SolutionContainerManager
    solutions:
      melee:
        maxVol: 8
        canReact: false

- type: entity
  name: explosive dart
  id: ExplosiveDart
  parent: Dart
  description: A dart which has an explosive payload inside.
  components:
  - type: ThrowingAngle
    angle: 0
  - type: EmbeddableProjectile
    embedOnThrow: false
    sound: /Audio/Weapons/star_hit.ogg
    removalTime: 5
  - type: Projectile
    deleteOnCollide: false
    onlyCollideWhenShot: true
    damage:
      types:
        Piercing: 4
  - type: Tag
    tags:
    - DartGunAmmo
  - type: Ammo
    muzzleFlash: null
  - type: Sprite
    sprite: _HL/Objects/Weapons/Guns/Ammunition/Projectiles/syringe_dart.rsi
    rotation: -45
    layers:
    - state: icon
      map: [ explosive ]
  - type: Fixtures
    fixtures:
      fix1:
        shape: !type:PhysShapeCircle
          radius: 0.2
        density: 5
        mask:
        - ItemMask
        restitution: 0.3
        friction: 0.2
      projectile:
        shape:
          !type:PhysShapeAabb
          bounds: "-0.2,-0.2,0.2,0.2"
        hard: false
        mask:
        - Impassable
        - BulletImpassable
  - type: ExplodeOnTrigger
  - type: Explosive
    explosionType: Default
    maxIntensity: 1.25
    intensitySlope: 1
    totalIntensity: 2.5
    maxTileBreak: 0
  - type: TriggerOnProjectileHit
